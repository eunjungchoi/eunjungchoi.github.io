---
title: "python 제너레이터와 range() 함수"
date: 2020-09-02 08:54:28 -0400
categories: python
---

제너레이터의 방식을 활용하는 대표적인 함수로 range()가 있다. range 함수는 range 클래스를 리턴하며 for 문에서 사용할 경우 내부적으로는 제너레이터의 next()를 호출하듯 매번 다음 숫자를 생성해내게 된다. 

참고로 파이썬 2.x 버전까지는 range 함수가 지금과 같은 형태가 아니었다. 숫자를 미리 생성해서 리스트로 리턴하는 방식이었고 (파이썬 3의 list(range(x)) 결과와 동일하다) 제너레이터를 리턴하는 방식은 xrange()라고 따로 존재했다. 

그러다가 버전 3 이후 range() 함수가 제너레이터 역할을 하는 range 클래스를 리턴하는 형태로 변경됐고 xrange() 함수는 사라졌다.
만약 생성할 숫자가 100만 개쯤 된다면 어떻게 될까?  메모리에서 적지 않은 공간을 차지할 것이고 생성 시간도 오래 걸릴 것이다. 

그러나 제너레이터를 리턴하듯 range클래스만 리턴하면 그렇지 않다. 생성 조건만 정해두고 나중에 필요할 때 생성해서 꺼내 쓸 수 있다. 
똑같이 숫자 100만개를 가지고 있어도 range 클래스를 이용하는 변수의 메모리 점유율이 훨씬 더 작다. 100만 개가 아니라 1억 개라도 변수의 메모리 점유율은 동일하다. 
생성 조건만 보관하고 있기 때문이다. 게다가 미리 생성하지 않은 값은 인덱스에 접근이 안될 거라 생각할 수 있으나, 인덱스로 접근 시에는 바로 생성하도록 구현되어 있기 때문에 리스트와 동일한 느낌으로 불편 없이 사용할 수 있다.


[파이썬 알고리즘 인터뷰] 책만 출판사, 박상길

